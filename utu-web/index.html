<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!--<meta http-equiv="X-UA-Compatible" content="IE=edge">-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>友途网</title>
    <!--<link rel="stylesheet" href="css/bootstrap/bootstrap.min.css">-->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/swiper.css">
    <link rel="stylesheet" href="css/video-js.css">
    <script src="js/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="js/swiper-3.3.1.min.js"></script>
    <script src="js/video.min.js" type="text/javascript"></script>

</head>
<body>
     <nav class="navgation" >
         <img src="images/nav_logo.png" class="logo">
         <div class="navButton first" ><a  href="#row1" id="a1">首页</a></div>
         <div class="navButton" ><a href="#row2" id="a2">旅行纪念</a></div>
         <div class="navButton" ><a href="#row3" id="a3">旅行管家</a></div>
         <div class="navButton" ><a href="#row4" id="a4">关于我们</a></div>
         <div class="navButton" ><a href="#row5" id="a5">成为途友</a></div>
         <div class="last" >
             <!--<a href="#" id="a6">请登录</a>-->
             <div class="avatarView">
                 <img src="images/avatar.png" class="avatarimg">
                 <span>接地气啊</span>
                 <div class="arrowimg"></div>
             </div>
             <div class="submenu">
                 <ul>
                     <li>旅行纪念订单</li>
                     <li>旅行管家订单</li>
                     <li>设置</li>
                     <li>退出</li>
                 </ul>
             </div>
         </div>
     </nav>
     <div  class="row1" id="row1">
         <div class="swiper-container"  >
             <div class="swiper-wrapper">
                 <div class="swiper-slide"><img src="images/banner1.png" class="banner_img" alt="图片加载失败"/></div>
                 <div class="swiper-slide"><img src="images/banner1.png" class="banner_img"  alt="图片加载失败"/></div>
                 <div class="swiper-slide"><img src="images/banner1.png" class="banner_img" alt="图片加载失败"/></div>
             </div>
             <!--如果需要分页器-->
             <div class="swiper-pagination" ></div>
         </div>
     </div>
     <div class="row2" >
        <div class="row2_left">
             <div>Project Significance</div>
             <div>友途&用户</div>
             <div></div>
             <div>友途为用户提供海量导游，同时友途的所有线上流程，包括导游定价，用户选择，预约导游等，均公开、透明保证用户下订单的安全性</div>
        </div>
         <div class="row2_center">
             <div class="maskView">
                <img src="images/video_play.png" id="play">
             </div>
             <div class="video_bg" id="video_bg">
                 <video id="my-video" class="video-js " controls preload="auto" data-setup="{}" style="width:100%;height:100%;object-fit: fill;" onended="videoEnd()">
                 <source src="http://vjs.zencdn.net/v/oceans.mp4" type="video/mp4">
                 <source src="http://vjs.zencdn.net/v/oceans.webm" type="video/webm">
                 <source src="http://vjs.zencdn.net/v/oceans.ogv" type="video/ogg">
                 <p class="vjs-no-js">
                 To view this video please enable JavaScript, and consider upgrading to a web browser that
                 <a href="http://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>
                 </p>
                 </video>
             </div>
         </div>
         <div class="row2_right">
             <div>Project Significance</div>
             <div>友途&乐游</div>
             <div></div>
             <div>友途为用户提供海量导游，同时友途的所有线上流程，包括导游定价，用户选择，预约导游等，均公开、透明保证用户下订单的安全性</div>
         </div>
     </div>
     <div class="seperateView" id="row2">
         <div><p>用户体验<span>User Experience</span></p></div>
     </div>
     <div class="row3">
         <div>
             <img src="images/user_experice_left.png">
             <img src="images/user_experice_right.png">
         </div>
     </div>
     <div class="row4_bg">
         <div class="seperateView"  id="row3">
             <div><p>商业模式<span>Bussiness Model</span></p></div>
         </div>
         <div class="row4">
             <div class="business_pre">
                 <div class="business_mask">
                    <img src="images/left_arrow.png" id="pre">
                 </div>
             </div>
             <div class="slider_mutiple">
                 <div class="swiper-container"  >
                     <div class="swiper-wrapper">
                         <div class="swiper-slide"><img src="images/business_bg2.png" class="slider_img" alt="图片加载失败"/></div>
                         <div class="swiper-slide"><img src="images/business_bg3.png"  class="slider_img" alt="图片加载失败"/></div>
                         <div class="swiper-slide"><img src="images/business_bg4.png"  class="slider_img" alt="图片加载失败"/></div>
                         <div class="swiper-slide"><img src="images/business_bg5.png"  class="slider_img" alt="图片加载失败"/></div>
                         <div class="swiper-slide"><img src="images/business_bg6.png"  class="slider_img" alt="图片加载失败"/></div>
                         <div class="swiper-slide"><img src="images/business_bg7.png"  class="slider_img" alt="图片加载失败"/></div>
                     </div>
                 </div>
             </div>
             <div class="business_next">
                 <div class="business_mask">
                    <img src="images/right_arrow.png" id="next">
                 </div>
             </div>
         </div>

     </div>
     <div class="seperateView" id="row4">
         <div><p>热门导游推荐<span>Hot Tour Guide Recommended</span></p></div>
     </div>
     <div class="row5">
         <div>
             <div class="cell cell_margin">
                 <img src="images/guide1.png">
                 <div class="list1"><span>莎莎莎</span><span>88元/小时（4小时起订）</span></div>
                 <div class="list2">友途网认证导游</div>
                 <div class="shortSeperate" >
                     <div>大胆 聪明 内敛 有导游证</div>
                     <div>爱好 唱歌 跳舞</div>
                 </div>
             </div>
             <div class="cell cell_margin">
                 <img src="images/guide1.png">
                 <div class="list1"><span>莎莎莎</span><span>88元/小时（4小时起订）</span></div>
                 <div class="list2">友途网认证导游</div>
                 <div class="shortSeperate" >
                     <div>大胆 聪明 内敛 有导游证</div>
                     <div>爱好 唱歌 跳舞</div>
                 </div>
             </div>
             <div class="cell">
                 <img src="images/guide1.png">
                 <div class="list1"><span>莎莎莎</span><span>88元/小时（4小时起订）</span></div>
                 <div class="list2">友途网认证导游</div>
                 <div class="shortSeperate" >
                     <div>大胆 聪明 内敛 有导游证</div>
                     <div>爱好 唱歌 跳舞</div>
                 </div>
             </div>
             <div class="cell cell_margin">
                 <img src="images/guide1.png">
                 <div class="list1"><span>莎莎莎</span><span>88元/小时（4小时起订）</span></div>
                 <div class="list2">友途网认证导游</div>
                 <div class="shortSeperate" >
                     <div>大胆 聪明 内敛 有导游证</div>
                     <div>爱好 唱歌 跳舞</div>
                 </div>
             </div>
             <div class="cell cell_margin">
                 <img src="images/guide1.png">
                 <div class="list1"><span>莎莎莎</span><span>88元/小时（4小时起订）</span></div>
                 <div class="list2">友途网认证导游</div>
                 <div class="shortSeperate" >
                     <div>大胆 聪明 内敛 有导游证</div>
                     <div>爱好 唱歌 跳舞</div>
                 </div>
             </div>
             <div class="cell">
                 <img src="images/guide1.png">
                 <div class="list1"><span>莎莎莎</span><span>88元/小时（4小时起订）</span></div>
                 <div class="list2">友途网认证导游</div>
                 <div class="shortSeperate" >
                     <div>大胆 聪明 内敛 有导游证</div>
                     <div>爱好 唱歌 跳舞</div>
                 </div>
             </div>
         </div>
     </div>
     <div class="insert_img">
        <img src="images/row5_show.png">
     </div>
     <div class="row6_bg" id="row5">
         <div class="seperateView" >
             <div><p>游前管理<span>Pre Tour Management</span></p></div>
         </div>
         <div class="row6">
             <img src="images/befor_guide1.png">
             <img src="images/befor_guide1.png">
             <img src="images/befor_guide1.png">
             <img src="images/befor_guide1.png">
             <img src="images/befor_guide1.png">
         </div>

     </div>
     <div class="insert_img">
         <img src="images/row5_show.png">
     </div>
     <div class="seperateView" id="row6">
         <div><p>友途关键词<span>Key Words</span></p></div>
     </div>
     <div class="row7">
         <div>
         <img src="images/keyword1.png">
         <img src="images/keyword1.png">
         <img src="images/keyword1.png">
         <img src="images/keyword1.png">
         <img src="images/keyword1.png">
         <img src="images/keyword1.png">
         </div>
     </div>
     <div class="seperateView" id="row7">
         <div><p>关于我们<span>About Us</span></p></div>
     </div>
     <div class="row8">
         <div>
             <img src="images/about_us1.png">
             <img src="images/about_us2.png">
         </div>
     </div>
     <div class="fooder">
         <p>©2017 nuomi.com 京ICP证030173号 友途网110108021406号 营业执照信息</p>
     </div>



</body>

<script>
    $(".avatarView").mouseenter(function () {
          submenu()

    })
    $(".avatarView").mouseleave(function (e) {
        var direction = moveDirection(this,e);
        if(direction != 2 )
        {
            submenuHover()
        }
    })
    $(".submenu").mouseleave(function (e) {
        
        submenuHover()


    })
    function submenu() {
        var left = $(".avatarView").offset().left;
        $(".avatarView").css({'background-color':'#ffffff'})
        $(".avatarView").children('span').css('color','#498fca')
        $(".avatarView").children('div').attr('class','arrowimg-hover')
        $('.submenu').css({'left':left,'display':'block'});
    }
    function submenuHover() {
        $(".avatarView").css({'background-color':'#f7f7f7'})
        $(".avatarView").children('span').css('color','#333')
        $(".avatarView").children('div').attr('class','arrowimg')
        $('.submenu').css('display','none');
    }
    /**
     * 判断鼠标从哪个方向进入和离开容器
     * @param {Object} tag JQuery对象，事件绑定的主体
     * @param {Object} e event对象
     * @return {Number} direction 值为“0,1,2,3”分别对应着“上，右，下，左”
     */
    function moveDirection(tag,e){
        var w = $(tag).width();
        var h = $(tag).height();
        var x = (e.pageX - tag.offsetLeft - (w / 2)) * (w > h ? (h / w) : 1);
        var y = (e.pageY - tag.offsetTop - (h / 2)) * (h > w ? (w / h) : 1);
        var direction = Math.round((((Math.atan2(y, x) * (180 / Math.PI)) + 180) / 90) + 3) % 4;
        return direction;
    }

     function bindChange (paramenter) {
        $(paramenter).bind({
            mouseenter: function(e) {
                // Hover event handler
                var id = "#"+$(this).children("a").attr("id")
                $(id).css("color","#498fca");
                $(this).css("border-bottom","2px solid #498fca");
            },
            mouseleave: function(e) {
                // Hover event handler
                var id = "#"+$(this).children("a").attr("id")
                var pointer = $(this).css("pointer-events")
                if( pointer == "auto")
                {
                    $(id).css("color","#333");
                }
                $(this).css("border-bottom","0px");
            }})
    }
     bindChange(".navButton")
     function scrollTo(paramenter) {
         $('html, body').animate({
             scrollTop: $(paramenter).offset().top-$(".navgation").height() +20
         }, 500);

     }


    var selectedId = "#a1";

    $(".navButton:first").css("background-color","#498fca")
    $(".navButton:first").css("pointer-events","none")
    $(selectedId).css("color","#fff")
    $(document).ready(function(){
        $(".navButton").click(function(){
            var id = "#"+$(this).children("a").attr("id")
            if(id == "#a6")
            {
                return;
            }
            var parent = $(selectedId).parent()
            parent.css({"background-color":"#fff","border-bottom":"0px","pointer-events":"auto"})
            $(selectedId).css("color","#333")

            $(this).css({"pointer-events":"none","background-color":"#498fca"})
            $(id).css("color","#fff")
            selectedId = id

        });
    });
    function scrollChange(paramenter) {
        var parent = $(selectedId).parent()
//        bindChange(parent)
        parent.css({"background-color":"#fff","border-bottom":"0px","pointer-events":"auto"})
        $(selectedId).css("color","#333")

        var id = paramenter
        $(id).parent().css({"pointer-events":"none","background-color":"#498fca"})
        $(id).css("color","#fff")
        selectedId = id
        
    }
    $(window).scroll(function(event){


//         $(".navgation").css("background-color","f5f5f5")
        console.log(event)
        var scrollHeight = $(window).scrollTop()//窗口已经滚动的距离
        var navHeight = $(".navgation").height()+10
        var row2Height = $("#row2").offset().top -navHeight//元素相对于窗口的距离
        var row3Height = $("#row3").offset().top-navHeight
        var row4Height = $("#row4").offset().top-navHeight
        var row5Height = $("#row5").offset().top-navHeight
        var row6Height = $("#row6").offset().top-navHeight


        if(scrollHeight <= row2Height)
        {
//           滚动到首页区域
            scrollChange("#a1")


        }else if (scrollHeight <= row3Height)
        {

            scrollChange("#a2")
        }else if(scrollHeight <= row4Height)
        {
            scrollChange("#a3")
        }else if (scrollHeight <= row5Height)

        {

            scrollChange("#a4")
        }else if (scrollHeight <= row6Height)
        {
            scrollChange("#a5")
        }else {
//            scrollChange("#a6")
        }

    });

    //    <!--修改轮播图-->
    var mySwiper = new Swiper('.row1 .swiper-container', {
        loop: true,

        // 如果需要分页器
        pagination: '.row1 .swiper-pagination',

        // 如果需要前进后退按钮
                nextButton: '.swiper-button-next',
                prevButton: '.swiper-button-prev',

        autoplay:3000,

        speed:1000,

        paginationClickable :true,
    })
//   多图轮播
     var mySwiper1 = new Swiper('.row4 .swiper-container', {
         //direction: 'vertical',
         loop: false,
         slidesPerView:5,

         autoplay:3000,

         speed:1000,

         paginationClickable :true,
     })
     $("#pre").click(function () {
         mySwiper1.slidePrev()
     })
     $("#next").click(function () {
         mySwiper1.slideNext()
     })

// 视频播放
     $("#video_bg").hide();
     //    隐藏maskView
     $(document).ready(function () {
         $("#play").click(function () {
             $(".maskView").hide()
             $("#video_bg").show();
             //   视频自动播放
             var myPlayer = videojs('my-video');
             videojs("my-video").ready(function(){
                 var myPlayer = this;
                 myPlayer.play();
             });
         })
     })
     //    视频播放结束
     function videoEnd() {
         $("#video_bg").hide();
         $(".maskView").show();
     }

</script>
</html>