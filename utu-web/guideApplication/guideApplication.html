<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>导游申请</title>
    <link href="../css/guideApplication.css" rel="stylesheet">
    <script src="../js/jquery-3.2.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>

</head>
<body>
<iframe id="naviframe" src="../navigation/navigation.html" frameborder="0" scrolling="no" class="nav"></iframe>
   <div class="container">
       <div class="content">
           <div class="blockView">
               <div class="title">颜值照<span>*</span></div>
               <div class="info">
                   <img src="../images/guideApplication_ex.png">
                   <div class="desc">
                       <span>1.封面照是抓取旅行者眼球的关键，精选几张自己清晰、个性的照片作为封面展示自己吧！</span>
                       <span>2.正方形构图，外景拍摄，人物不要太小，背景突出当地特色。</span>
                       <span>3.图片宽高至少为800*500像素。</span>
                       <span>4.支持JPG、PNG、GIF格式图片。</span>
                       <span>5.图片大小不超过2M。</span>
                       <div class="ex">示例如左图</div>
                   </div>
               </div>
               <div class="separateView"></div>
               <div class="addImages">
                   <div class="photo">
                       <img src="../images/add_images.png" class="add-img" id="img1">
                       <input  type="file" id="file1" class="file" onchange="showPreview(this,'img1')" accept="image/jpg,image/jpeg,image/png,image/bmp"  />
                       <img src="../images/remove_img.png" class="removeImg" onclick="removeImg('img1')" id="remove1">
                   </div>
                   <div class="photo">
                       <img src="../images/add_images.png" class="add-img" id="img2">
                       <input  type="file" id="file2" class="file" onchange="showPreview(this,'img2')" accept="image/jpg,image/jpeg,image/png,image/bmp"  />
                       <img src="../images/remove_img.png" class="removeImg" onclick="removeImg('img2')" id="remove2">
                   </div>
                   <div class="photo">
                       <img src="../images/add_images.png" class="add-img" id="img3">
                       <input  type="file" id="file3" class="file" onchange="showPreview(this,'img3')" accept="image/jpg,image/jpeg,image/png,image/bmp"  />
                       <img src="../images/remove_img.png" class="removeImg" onclick="removeImg('img3')" id="remove3">
                   </div>

               </div>
           </div>
           <div class="blockView">
               <div class="title">身份认证<span>*</span></div>

               <div class="IDinfo">
                   <img src="../images/guideApplication_IDex.png">
                   <div class="desc">
                       <span>1.上传本人真实有效的身份证件，确保证件上的姓名和证件号清晰可见。</span>
                       <span>2.照片需免冠，且不得做任何修改。</span>
                       <span>3.支持JPG、PNG、GIF格式图片。</span>
                       <span>4.图片大小不超过2M。</span>
                       <div class="ex">示例如左图</div>
                   </div>
               </div>
               <div class="separateView"></div>
               <div class="idadd">
                   <div class="idadd_desc"><span>正面</span></div>
                   <div class="photo">
                       <img src="../images/add_images.png" class="add-img" id="identity1">
                       <input  type="file" id="identityFile1" class="file" onchange="showPreview(this,'identity1')" accept="image/jpg,image/jpeg,image/png,image/bmp"  />
                       <img src="../images/remove_img.png" class="removeImg" onclick="removeImg('identity1')" id="identityRemove1">
                   </div>
                   <!--<img src="../images/add_images.png">-->
               </div>
               <div class="idadd">
                   <div class="idadd_desc"><span>反面</span></div>
                   <div class="photo">
                       <img src="../images/add_images.png" class="add-img" id="identity2">
                       <input  type="file" id="identityFile2" class="file" onchange="showPreview(this,'identity2')" accept="image/jpg,image/jpeg,image/png,image/bmp"  />
                       <img src="../images/remove_img.png" class="removeImg" onclick="removeImg('identity2')" id="identityRemove2">
                   </div>
                   <!--<img src="../images/add_images.png">-->
               </div>
           </div>
           <div class="blockView">
               <div class="title">专业证件认证<span>*</span></div>
               <div class="cerInfo">
                   <img src="../images/guideApplication_guideCerID_ex.png">
                   <div class="desc">
                       <span>1.可提供国导证、英导证、领队证等增加信任值，可以使用电子证。</span>
                       <span>2.支持JPG、PNG、GIF格式图片。</span>
                       <span>3.图片大小不超过2M。</span>
                       <span>4.以上证件请保证所提供证件的真实性，同时我们会保护您的隐私。</span>
                       <div class="ex">示例如左图</div>
                   </div>
               </div>
               <div class="separateView"></div>
               <div class="addImages">
                   <div class="photo">
                       <img src="../images/add_images.png" class="add-img" id="cer1">
                       <input  type="file" id="cerFile1" class="file" onchange="showPreview(this,'cer1')" accept="image/jpg,image/jpeg,image/png,image/bmp"  />
                       <img src="../images/remove_img.png" class="removeImg" onclick="removeImg('cer1')" id="cerRemove1">
                   </div>
                   <div class="photo">
                       <img src="../images/add_images.png" class="add-img" id="cer2">
                       <input  type="file" id="cerFile2" class="file" onchange="showPreview(this,'cer2')" accept="image/jpg,image/jpeg,image/png,image/bmp"  />
                       <img src="../images/remove_img.png" class="removeImg" onclick="removeImg('cer2')" id="cerRemove2">
                   </div>
                   <div class="photo">
                       <img src="../images/add_images.png" class="add-img" id="cer3">
                       <input  type="file" id="cerFile3" class="file" onchange="showPreview(this,'cer3')" accept="image/jpg,image/jpeg,image/png,image/bmp"  />
                       <img src="../images/remove_img.png" class="removeImg" onclick="removeImg('cer3')" id="cerRemove3">
                   </div>

               </div>
           </div>
           <div class="blockView">
               <div class="title">上传音频<span>*</span></div>
               <div class="audioInfo">
                   <img src="../images/guideApplication_audio_placeHolder.png">
                   <div class="desc">
                       <span>1.录制一段自己的语音，可以是朗诵、唱歌、个签用来增加魅力哦~</span>
                       <span>2.语音时长控制在15-60秒之间。</span>
                       <span>3.支持mp3、wma格式的语音。</span>
                       <span>5.大小不超过2M。</span>
                       <div class="ex">示例如左图</div>
                   </div>
               </div>
               <div class="separateView"></div>
               <div class="addImages">
                   <div class="photo">
                       <img src="../images/add_voice.png" class="add-img" id="voice">
                       <div class="voice">
                            <img src="../images/voice_plate.png" id="plate">
                            <img src="../images/voice_wave.png" id="wave">
                           <div class="tryVoice" style="cursor: pointer;">试听</div>
                       </div>
                       <audio src=""  id="audio" ></audio>
                       <input type="file"  id="voiceFile" class="file" title="" onchange="showPreview(this,'voice')" accept="audio/*" />
                       <img src="../images/remove_img.png" class="removeImg" onclick="removeImg('voice')" id="voiceRemove">
                   </div>
               </div>
           </div>
           <div class="applicationBg">
               <div class="applicationButton">立即申请</div>
           </div>
       </div>

   </div>
<iframe src="../footer/footer.html" frameborder="0" scrolling="no" class="footer"></iframe>

</body>
<script>
    //    存放照片
        var imgArr = []
    //    存放身份证
        var identityArr = []
        //    存放导游证
        var cerArr = []
    //    存放音频
        var selfAudio = ''


    //   修改导航栏选中
    var naviframe = document.getElementById('naviframe')
    naviframe.onload = function () {

        naviframe.contentWindow.navChange('#a5');
    }

    function showPreview(source,imgId) {

        var file = source.files[0];
        if (typeof FileReader === 'undefined') {
           alert("浏览器版本过低，请先更新您的浏览器~");

       } else {
//            判断选择的是否是照片 这一步不起作用了，input 类型已经做了限制
//            if(!/image\/\w+/.test(file.type)){
//                alert("请确保文件为图像类型");
//                return false;
//            }

            var fr = new FileReader();
            fr.readAsDataURL(file);
            fr.onloadend = function(e) {
                switch (imgId)
                {

                    case 'img1':{
                     $('#img1').attr('src',e.target.result)
                     $('#remove1').css('display','block')
                        break;
                    }
                    case 'img2':{
                        $('#img2').attr('src',e.target.result)
                        $('#remove2').css('display','block')
                        break;
                    }
                    case 'img3':{
                        $('#img3').attr('src',e.target.result)
                        $('#remove3').css('display','block')
                        break;
                    }
                    case 'identity1':{
                        $('#identity1').attr('src',e.target.result).css('width','360px')
                        $('#identityRemove1').css('display','block')
                        break;
                    }
                    case 'identity2':{
                        $('#identity2').attr('src',e.target.result).css('width','360px')
                        $('#identityRemove2').css('display','block')
                        break;
                    }
                    case 'cer1':{
                        $('#cer1').attr('src',e.target.result)
                        $('#cerRemove1').css('display','block')
                        break;
                    }
                    case 'cer2':{
                        $('#cer2').attr('src',e.target.result)
                        $('#cerRemove2').css('display','block')
                        break;
                    }
                    case 'cer3':{
                        $('#cer3').attr('src',e.target.result)
                        $('#cerRemove3').css('display','block')
                        break;
                    }
                    case 'voice':{
                        $('#audio').attr('src',e.target.result)
                        $('#voiceRemove').css('display','block')
                        $('#voice').css('display','none')
                        $('#voiceFile').css('z-index','-1')
                        $('.voice').css('display','flex')
                        break;
                    }

                }

//                e.target.result 上传到服务器
//                console.log(e.target.result)

            };


       }

    }
    function removeImg(removeImgId) {
        var id = '#'+removeImgId
        switch (removeImgId)
        {

            case 'img1':{
                $('#remove1').css('display','none')
//                清空input
                $('#file1').val("")
                $(id).attr('src','../images/add_images.png')
                break;
            }
            case 'img2':{
                $('#remove2').css('display','none')
//                清空input
                $('#file2').val("")
                $('#img2').attr('src','../images/add_images.png')
                break;
            }
            case 'img3':{
                $('#remove3').css('display','none')
//                清空input
                $('#file3').val("")
                $('#img3').attr('src','../images/add_images.png')
                break;
            }
            case 'identity1':{
                $('#identityFile1').val("")
                $('#identity1').attr('src','../images/add_images.png').css('width','220px')
                $('#identityRemove1').css('display','none')
                break;
            }
            case 'identity2':{
                $('#identityFile2').val("")
                $('#identity2').attr('src','../images/add_images.png').css('width','220px')
                $('#identityRemove2').css('display','none')
                break;
            }
            case 'cer1':{
                $('#cerRemove1').css('display','none')
                $('#cerFile1').val("")
                $('#cer1').attr('src','../images/add_images.png')
                break;
            }
            case 'cer2':{
                $('#cerRemove2').css('display','none')
                $('#cerFile2').val("")
                $('#cer2').attr('src','../images/add_images.png')
                break;
            }
            case 'cer3':{
                $('#cerRemove3').css('display','none')
                $('#cerFile3').val("")
                $('#cer3').attr('src','../images/add_images.png')
                break;
            }
            case 'voice':{
                $('#voiceRemove').css('display','none')
                $('#voice').css('display','block')
                $('#voiceFile').css('z-index','100').val("")
                $('.voice').css('display','none')
                var audio = document.getElementById("audio");
                audio.pause()
                break;
            }
        }

    }
    $('.tryVoice').on('click',function () {
        var audio = document.getElementById("audio");
        audio.play()
//   加入动画
        $('#plate').addClass('rotate')

    })
    $('#audio').on('ended',function () {
//       移除动画
        $('#plate').removeClass('rotate')
    })

//    提交申请
   $('.applicationButton').on('click',function () {



   })


</script>
</html>